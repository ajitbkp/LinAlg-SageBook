<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*       on 2025-08-18T19:42:31+05:30       *-->
<!--*   A recent stable commit (2020-08-09):   *-->
<!--* 98f21740783f166a773df4dc83cab5293ab63a4a *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
<script>// Make *any* pre with class 'sagecell-sage' an executable Sage cell
// Their results will be linked, only within language type
sagecell.makeSagecell({inputLocation: 'pre.sagecell-sage',
                       linked: true,
                       languages: ['sage'],
                       evalButtonText: 'Evaluate (Sage)'});
</script>
</head>
<body class="ignore-math">
<div class="solution solution-like">
<h3 class="heading">
<span class="type">Solution</span><span class="space"> </span><span class="codenumber">2.5.9.1</span><span class="period">.</span>
</h3>
<p><pre class="ptx-sagecell sagecell-sage" id="sage-97"><script type="text/x-sage">V = QQ^4
b1 = vector(QQ, [-5, 8,  0, 4])
b2 = vector(QQ, [-3, 9, -2, 4])
b3 = vector(QQ, [-1, 4, -1, 2])
b4 = vector(QQ, [-1, 2,  0, 1])
B = [b1, b2, b3, b4]
V.are_linearly_dependent(B)
</script></pre> <pre class="ptx-sagecell sagecell-sage" id="sage-98"><script type="text/x-sage">c1 = vector(QQ, [ 0,  2, -7,  5])
c2 = vector(QQ, [-1,  2, -1,  4])
c3 = vector(QQ, [ 1, -3,  5, -7])
c4 = vector(QQ, [ 1,  1, -8,  3])
C = [c1, c2, c3,c4]
V.are_linearly_dependent(C)
</script></pre> <p>Clearly B and C are linearly indendent and hence they are bases of <span class="process-math">\(V\text{.}\)</span></p> <p>Next we define two subspaces V1 and V2 with B and C as bases respectively and define the vector <span class="process-math">\(x\)</span> in Sage.</p> <pre class="ptx-sagecell sagecell-sage" id="sage-99"><script type="text/x-sage">V1 = V.subspace_with_basis(B)
V2 = V.subspace_with_basis(C)
x = vector([3,5,7,9])
</script></pre> <p>Next we find the coordinates <span class="process-math">\(x_\beta\)</span> and <span class="process-math">\(x_\gamma\text{.}\)</span></p> <pre class="ptx-sagecell sagecell-sage" id="sage-100"><script type="text/x-sage">xB = V1.coordinates(x);
print(f'The coordinates of x w.r.t. B is: {xB}')
xC = V2.coordinates(x);
print(f'The coordinates of x w.r.t. C is: {xC}')
</script></pre> <p>Next we define the change of basis matrix <span class="process-math">\([I]_\beta^\gamma\text{.}\)</span> This can be achieved by taking a matrix <span class="process-math">\(M=[C~|~B]\)</span> applying rref and extracting the last four columns.</p> <pre class="ptx-sagecell sagecell-sage" id="sage-101"><script type="text/x-sage">## Matrix of Change of basis from B to C, that [I]_B^C
k = len(B)
M = column_matrix(C+B)
print(M)
M1 = M.rref()
print(M1)
IBC = M1.submatrix(0,k)
print(IBC)
</script></pre> <p>One can verify that this is same as <span class="process-math">\(C^{-1}B\text{.}\)</span></p> <pre class="ptx-sagecell sagecell-sage" id="sage-102"><script type="text/x-sage">column_matrix(C).inverse()*column_matrix(B)==IBC
</script></pre> <p>Next we define the change of basis matrix <span class="process-math">\([I]_\gamma^\beta\text{.}\)</span> This can be achieved by taking a matrix <span class="process-math">\(M=[B~|~C]\)</span> applying rref and extracting the last four columns. One can verify that this is same as <span class="process-math">\(C^{-1}B\text{.}\)</span></p> <pre class="ptx-sagecell sagecell-sage" id="sage-103"><script type="text/x-sage">## Matrix of Change of basis from C to B, that [I]_C^B
k = len(B)
M = column_matrix(B+C)
print(M)
M1 = M.rref()
print(M1)
ICB = M1.submatrix(0,k)
print(ICB)
</script></pre> <pre class="ptx-sagecell sagecell-sage" id="sage-104"><script type="text/x-sage">column_matrix(B).inverse()*column_matrix(C)==ICB
</script></pre> <p>Let us check that <span class="process-math">\(\left([I]_\beta^\gamma\right)^{-1}=[I]_\gamma^\beta\text{.}\)</span></p> <pre class="ptx-sagecell sagecell-sage" id="sage-105"><script type="text/x-sage">IBC.inverse()==ICB
</script></pre> <p>Finally we show that <span class="process-math">\([I]_\beta^\gamma x_\beta=x_\gamma\)</span> and <span class="process-math">\([I]_\gamma^\beta x_\gamma=x_\beta\text{.}\)</span></p> <pre class="ptx-sagecell sagecell-sage" id="sage-106"><script type="text/x-sage">IBC*vector(xB)==vector(xC)
ICB*vector(xC)==vector(xB)
</script></pre></p>
</div>
<span class="incontext"><a href="sec2-4-Sage.html#solution-17" class="internal">in-context</a></span>
</body>
</html>
